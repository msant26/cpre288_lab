/// Prints text as a rotating banner
/**
 * This program prints "Microcontrollers are lots of fun!" to the LCD screen
 * in a rotating banner manner
 * @author Michael Santiago
 * @date 01/27/2026
 *
 * updated: phjones 9/3/2019
 * Description: Added timer_init call, and including Timer.h
 */

#include "Timer.h"
#include "lcd.h"
#include "open_interface.h"
#include "movement.h"

int main(void) {
    oi_t *sensor_data = oi_alloc(); // do this only once at start of main()
    oi_init(sensor_data); // do this only once at start of main()

    lcd_init();
    // the following code could be put in function move_forward()
    // move_forward(sensor_data, 200);
    turn_right(sensor_data, 90);
    turn_left(sensor_data, 90);

    // int i;

    // for (i=0; i<=3; i++){
    //     move_forward(sensor_data, 500);
    //     turn_right(sensor_data, 90);

    // }

    int distance = 0;
    while(distance < 2000){
        oi_update(*sensor_data);
        //move_forward(*sensor_data, 2000);
        oi_setWheels(150, 150);
        collision_detector(sensor_data);


    }
    oi_free(sensor_data); // do this once at end of main()
    return 0;
}
